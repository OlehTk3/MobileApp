# Expense Tracker (Проследяване на разходи)

**Дисциплина:** Мобилни приложения  
**Студент:** [Олег Ткачук]  
**ФН:** [2301321091]  
---

## 1. Идея на проекта
Приложението **Expense Tracker** е предназначено за личен финансов отчет. То позволява на потребителя бързо да записва своите разходи, като въвежда заглавие и сума.
Ключовата функционалност е възможността за **прикачване на снимка на касова бележка** (или продукт) към всеки запис, използвайки камерата на устройството. Всички данни се съхраняват локално и са достъпни без интернет връзка.

---

## 2. Технически стек
*   **Език:** Kotlin
*   **Min SDK:** 24
*   **Target SDK:** 36
*   **UI:** Jetpack Compose (Material 3)
*   **Архитектура:** MVVM (Model-View-ViewModel) + Repository Pattern
*   **База данни:** Room Database (SQLite)
*   **Асинхронност:** Kotlin Coroutines & Flow
*   **Изображения:** Coil (за зареждане на снимки)
*   **Навигация:** Navigation Compose
*   **Тестове:** JUnit 4, Mockito (Unit tests)

---

## 3. Архитектура
Приложението е изградено върху препоръчаната от Google архитектура **MVVM**:

1.  **Data Layer (Слой данни):**
    *   `AppDatabase`: Локална база данни (Room).
    *   `ExpenseDao`: Интерфейс за достъп до данните (CRUD операции).
    *   `ExpenseRepository`: Единна точка за достъп до данните, скриваща сложността на базата данни от UI.
2.  **UI Layer (Слой потребителски интерфейс):**
    *   `ExpenseViewModel`: Управлява състоянието на екраните, запазва данни при завъртане на екрана и комуникира с репозиторито.
    *   `Screens`: Composable функции (`HomeScreen`, `AddExpenseScreen`), които визуализират данните.

**Схема:**
`UI (Compose)` <-> `ViewModel` <-> `Repository` <-> `Room DAO` <-> `SQLite DB`

---

## 4. Как работи
1.  При стартиране, `MainActivity` инициализира контейнера със зависимости (`MyAppApplication`), създавайки базата данни и репозиторито.
2.  `ExpenseViewModel` се абонира за потока от данни (`Flow`) от базата данни.
3.  Когато потребителят добавя разход:
    *   Данните се валидират.
    *   Ако е направена снимка, нейният URI се запазва чрез `FileProvider`.
    *   ViewModel извиква метод `insert` в репозиторито.
4.  Room обновявя таблицата и автоматично уведомява UI чрез `StateFlow`, списъкът на екрана се обновява мигновено.

---

## 5. Потребителски поток (User Flow)
1.  **Главен екран:** Потребителят вижда списък с всички разходи и техните суми.
2.  **Създаване:** Натискане на бутона `+` (FAB) отваря екран за добавяне.
3.  **Въвеждане:** Потребителят въвежда заглавие (напр. "Храна") и сума.
4.  **Снимка (Доп. функционалност):** Натискане на "Сделать фото чека" стартира системната камера. След снимката, миниатюра се показва на екрана.
5.  **Запазване:** Бутонът "Сохранить" записва данните в БД и връща към главния екран.
6.  **Редактиране:** Клик върху елемент от списъка отваря екран за редакция, където данните могат да се променят или снимката да се презаснеме.
7.  **Изтриване:** Натискане на иконата с кошче изтрива записа.

---

## 6. Стъпки за стартиране
1.  Клонирайте репозиторито:
    
